
<!-- saved from url=(0047)http://zipso.net/sketchpad/sketchpad-lines.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head><body><div class="line-gutter-backdrop"></div><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-tag">&lt;html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;head&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content"><span class="html-tag">&lt;title&gt;</span>Sketchpad<span class="html-tag">&lt;/title&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="5"></td><td class="line-content"><span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="line-number" value="6"></td><td class="line-content">    // Variables for referencing the canvas and 2dcanvas context</td></tr><tr><td class="line-number" value="7"></td><td class="line-content">    var canvas,ctx;</td></tr><tr><td class="line-number" value="8"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="9"></td><td class="line-content">    // Variables to keep track of the mouse position and left-button status </td></tr><tr><td class="line-number" value="10"></td><td class="line-content">    var mouseX,mouseY,mouseDown=0;</td></tr><tr><td class="line-number" value="11"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="12"></td><td class="line-content">    // Variables to keep track of the touch position</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">    var touchX,touchY;</td></tr><tr><td class="line-number" value="14"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="15"></td><td class="line-content">    // Keep track of the old/last position when drawing a line</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">    // We set it to -1 at the start to indicate that we don't have a good value for it yet</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">    var lastX,lastY=-1;</td></tr><tr><td class="line-number" value="18"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="19"></td><td class="line-content">    // Draws a line between the specified position on the supplied canvas name</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">    // Parameters are: A canvas context, the x position, the y position, the size of the dot</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">    function drawLine(ctx,x,y,size) {</td></tr><tr><td class="line-number" value="22"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="23"></td><td class="line-content">        // If lastX is not set, set lastX and lastY to the current position </td></tr><tr><td class="line-number" value="24"></td><td class="line-content">        if (lastX==-1) {</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">            lastX=x;</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">	    lastY=y;</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="28"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="29"></td><td class="line-content">        // Let's use black by setting RGB values to 0, and 255 alpha (completely opaque)</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">        r=0; g=0; b=0; a=255;</td></tr><tr><td class="line-number" value="31"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="32"></td><td class="line-content">        // Select a fill style</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">        ctx.strokeStyle = "rgba("+r+","+g+","+b+","+(a/255)+")";</td></tr><tr><td class="line-number" value="34"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="35"></td><td class="line-content">        // Set the line "cap" style to round, so lines at different angles can join into each other</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">        ctx.lineCap = "round";</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">        //ctx.lineJoin = "round";</td></tr><tr><td class="line-number" value="38"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="39"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="40"></td><td class="line-content">        // Draw a filled line</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">        ctx.beginPath();</td></tr><tr><td class="line-number" value="42"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="43"></td><td class="line-content">	// First, move to the old (previous) position</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">	ctx.moveTo(lastX,lastY);</td></tr><tr><td class="line-number" value="45"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="46"></td><td class="line-content">	// Now draw a line to the current touch/pointer position</td></tr><tr><td class="line-number" value="47"></td><td class="line-content">	ctx.lineTo(x,y);</td></tr><tr><td class="line-number" value="48"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="49"></td><td class="line-content">        // Set the line thickness and draw the line</td></tr><tr><td class="line-number" value="50"></td><td class="line-content">        ctx.lineWidth = size;</td></tr><tr><td class="line-number" value="51"></td><td class="line-content">        ctx.stroke();</td></tr><tr><td class="line-number" value="52"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="53"></td><td class="line-content">        ctx.closePath();</td></tr><tr><td class="line-number" value="54"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="55"></td><td class="line-content">	// Update the last position to reference the current position</td></tr><tr><td class="line-number" value="56"></td><td class="line-content">	lastX=x;</td></tr><tr><td class="line-number" value="57"></td><td class="line-content">	lastY=y;</td></tr><tr><td class="line-number" value="58"></td><td class="line-content">    } </td></tr><tr><td class="line-number" value="59"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="60"></td><td class="line-content">    // Clear the canvas context using the canvas width and height</td></tr><tr><td class="line-number" value="61"></td><td class="line-content">    function clearCanvas(canvas,ctx) {</td></tr><tr><td class="line-number" value="62"></td><td class="line-content">        ctx.clearRect(0, 0, canvas.width, canvas.height);</td></tr><tr><td class="line-number" value="63"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="64"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="65"></td><td class="line-content">    // Keep track of the mouse button being pressed and draw a dot at current location</td></tr><tr><td class="line-number" value="66"></td><td class="line-content">    function sketchpad_mouseDown() {</td></tr><tr><td class="line-number" value="67"></td><td class="line-content">        mouseDown=1;</td></tr><tr><td class="line-number" value="68"></td><td class="line-content">        drawLine(ctx,mouseX,mouseY,12);</td></tr><tr><td class="line-number" value="69"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="70"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="71"></td><td class="line-content">    // Keep track of the mouse button being released</td></tr><tr><td class="line-number" value="72"></td><td class="line-content">    function sketchpad_mouseUp() {</td></tr><tr><td class="line-number" value="73"></td><td class="line-content">        mouseDown=0;</td></tr><tr><td class="line-number" value="74"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="75"></td><td class="line-content">        // Reset lastX and lastY to -1 to indicate that they are now invalid, since we have lifted the "pen"</td></tr><tr><td class="line-number" value="76"></td><td class="line-content">        lastX=-1;</td></tr><tr><td class="line-number" value="77"></td><td class="line-content">        lastY=-1;</td></tr><tr><td class="line-number" value="78"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="79"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="80"></td><td class="line-content">    // Keep track of the mouse position and draw a dot if mouse button is currently pressed</td></tr><tr><td class="line-number" value="81"></td><td class="line-content">    function sketchpad_mouseMove(e) { </td></tr><tr><td class="line-number" value="82"></td><td class="line-content">        // Update the mouse co-ordinates when moved</td></tr><tr><td class="line-number" value="83"></td><td class="line-content">        getMousePos(e);</td></tr><tr><td class="line-number" value="84"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="85"></td><td class="line-content">        // Draw a dot if the mouse button is currently being pressed</td></tr><tr><td class="line-number" value="86"></td><td class="line-content">        if (mouseDown==1) {</td></tr><tr><td class="line-number" value="87"></td><td class="line-content">            drawLine(ctx,mouseX,mouseY,12);</td></tr><tr><td class="line-number" value="88"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="89"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="90"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="91"></td><td class="line-content">    // Get the current mouse position relative to the top-left of the canvas</td></tr><tr><td class="line-number" value="92"></td><td class="line-content">    function getMousePos(e) {</td></tr><tr><td class="line-number" value="93"></td><td class="line-content">        if (!e)</td></tr><tr><td class="line-number" value="94"></td><td class="line-content">            var e = event;</td></tr><tr><td class="line-number" value="95"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="96"></td><td class="line-content">        if (e.offsetX) {</td></tr><tr><td class="line-number" value="97"></td><td class="line-content">            mouseX = e.offsetX;</td></tr><tr><td class="line-number" value="98"></td><td class="line-content">            mouseY = e.offsetY;</td></tr><tr><td class="line-number" value="99"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="100"></td><td class="line-content">        else if (e.layerX) {</td></tr><tr><td class="line-number" value="101"></td><td class="line-content">            mouseX = e.layerX;</td></tr><tr><td class="line-number" value="102"></td><td class="line-content">            mouseY = e.layerY;</td></tr><tr><td class="line-number" value="103"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="104"></td><td class="line-content">     }</td></tr><tr><td class="line-number" value="105"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="106"></td><td class="line-content">    // Draw something when a touch start is detected</td></tr><tr><td class="line-number" value="107"></td><td class="line-content">    function sketchpad_touchStart() {</td></tr><tr><td class="line-number" value="108"></td><td class="line-content">        // Update the touch co-ordinates</td></tr><tr><td class="line-number" value="109"></td><td class="line-content">        getTouchPos();</td></tr><tr><td class="line-number" value="110"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="111"></td><td class="line-content">        drawLine(ctx,touchX,touchY,12);</td></tr><tr><td class="line-number" value="112"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="113"></td><td class="line-content">        // Prevents an additional mousedown event being triggered</td></tr><tr><td class="line-number" value="114"></td><td class="line-content">        event.preventDefault();</td></tr><tr><td class="line-number" value="115"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="116"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="117"></td><td class="line-content">    function sketchpad_touchEnd() {</td></tr><tr><td class="line-number" value="118"></td><td class="line-content">        // Reset lastX and lastY to -1 to indicate that they are now invalid, since we have lifted the "pen"</td></tr><tr><td class="line-number" value="119"></td><td class="line-content">        lastX=-1;</td></tr><tr><td class="line-number" value="120"></td><td class="line-content">        lastY=-1;</td></tr><tr><td class="line-number" value="121"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="122"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="123"></td><td class="line-content">    // Draw something and prevent the default scrolling when touch movement is detected</td></tr><tr><td class="line-number" value="124"></td><td class="line-content">    function sketchpad_touchMove(e) { </td></tr><tr><td class="line-number" value="125"></td><td class="line-content">        // Update the touch co-ordinates</td></tr><tr><td class="line-number" value="126"></td><td class="line-content">        getTouchPos(e);</td></tr><tr><td class="line-number" value="127"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="128"></td><td class="line-content">        // During a touchmove event, unlike a mousemove event, we don't need to check if the touch is engaged, since there will always be contact with the screen by definition.</td></tr><tr><td class="line-number" value="129"></td><td class="line-content">        drawLine(ctx,touchX,touchY,12); </td></tr><tr><td class="line-number" value="130"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="131"></td><td class="line-content">        // Prevent a scrolling action as a result of this touchmove triggering.</td></tr><tr><td class="line-number" value="132"></td><td class="line-content">        event.preventDefault();</td></tr><tr><td class="line-number" value="133"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="134"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="135"></td><td class="line-content">    // Get the touch position relative to the top-left of the canvas</td></tr><tr><td class="line-number" value="136"></td><td class="line-content">    // When we get the raw values of pageX and pageY below, they take into account the scrolling on the page</td></tr><tr><td class="line-number" value="137"></td><td class="line-content">    // but not the position relative to our target div. We'll adjust them using "target.offsetLeft" and</td></tr><tr><td class="line-number" value="138"></td><td class="line-content">    // "target.offsetTop" to get the correct values in relation to the top left of the canvas.</td></tr><tr><td class="line-number" value="139"></td><td class="line-content">    function getTouchPos(e) {</td></tr><tr><td class="line-number" value="140"></td><td class="line-content">        if (!e)</td></tr><tr><td class="line-number" value="141"></td><td class="line-content">            var e = event;</td></tr><tr><td class="line-number" value="142"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="143"></td><td class="line-content">        if(e.touches) {</td></tr><tr><td class="line-number" value="144"></td><td class="line-content">            if (e.touches.length == 1) { // Only deal with one finger</td></tr><tr><td class="line-number" value="145"></td><td class="line-content">                var touch = e.touches[0]; // Get the information for finger #1</td></tr><tr><td class="line-number" value="146"></td><td class="line-content">                touchX=touch.pageX-touch.target.offsetLeft;</td></tr><tr><td class="line-number" value="147"></td><td class="line-content">                touchY=touch.pageY-touch.target.offsetTop;</td></tr><tr><td class="line-number" value="148"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="149"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="150"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="151"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="152"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="153"></td><td class="line-content">    // Set-up the canvas and add our event handlers after the page has loaded</td></tr><tr><td class="line-number" value="154"></td><td class="line-content">    function init() {</td></tr><tr><td class="line-number" value="155"></td><td class="line-content">        // Get the specific canvas element from the HTML document</td></tr><tr><td class="line-number" value="156"></td><td class="line-content">        canvas = document.getElementById('sketchpad');</td></tr><tr><td class="line-number" value="157"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="158"></td><td class="line-content">        // If the browser supports the canvas tag, get the 2d drawing context for this canvas</td></tr><tr><td class="line-number" value="159"></td><td class="line-content">        if (canvas.getContext)</td></tr><tr><td class="line-number" value="160"></td><td class="line-content">            ctx = canvas.getContext('2d');</td></tr><tr><td class="line-number" value="161"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="162"></td><td class="line-content">        // Check that we have a valid context to draw on/with before adding event handlers</td></tr><tr><td class="line-number" value="163"></td><td class="line-content">        if (ctx) {</td></tr><tr><td class="line-number" value="164"></td><td class="line-content">            // React to mouse events on the canvas, and mouseup on the entire document</td></tr><tr><td class="line-number" value="165"></td><td class="line-content">            canvas.addEventListener('mousedown', sketchpad_mouseDown, false);</td></tr><tr><td class="line-number" value="166"></td><td class="line-content">            canvas.addEventListener('mousemove', sketchpad_mouseMove, false);</td></tr><tr><td class="line-number" value="167"></td><td class="line-content">            window.addEventListener('mouseup', sketchpad_mouseUp, false);</td></tr><tr><td class="line-number" value="168"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="169"></td><td class="line-content">            // React to touch events on the canvas</td></tr><tr><td class="line-number" value="170"></td><td class="line-content">            canvas.addEventListener('touchstart', sketchpad_touchStart, false);</td></tr><tr><td class="line-number" value="171"></td><td class="line-content">            canvas.addEventListener('touchend', sketchpad_touchEnd, false);</td></tr><tr><td class="line-number" value="172"></td><td class="line-content">            canvas.addEventListener('touchmove', sketchpad_touchMove, false);</td></tr><tr><td class="line-number" value="173"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="174"></td><td class="line-content">    }</td></tr><tr><td class="line-number" value="175"></td><td class="line-content"><span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="176"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="177"></td><td class="line-content"><span class="html-tag">&lt;style&gt;</span></td></tr><tr><td class="line-number" value="178"></td><td class="line-content">/* Some CSS styling */</td></tr><tr><td class="line-number" value="179"></td><td class="line-content">#sketchpadapp {</td></tr><tr><td class="line-number" value="180"></td><td class="line-content">    /* Prevent nearby text being highlighted when accidentally dragging mouse outside confines of the canvas */</td></tr><tr><td class="line-number" value="181"></td><td class="line-content">    -webkit-touch-callout: none;</td></tr><tr><td class="line-number" value="182"></td><td class="line-content">    -webkit-user-select: none;</td></tr><tr><td class="line-number" value="183"></td><td class="line-content">    -khtml-user-select: none;</td></tr><tr><td class="line-number" value="184"></td><td class="line-content">    -moz-user-select: none;</td></tr><tr><td class="line-number" value="185"></td><td class="line-content">    -ms-user-select: none;</td></tr><tr><td class="line-number" value="186"></td><td class="line-content">    user-select: none;</td></tr><tr><td class="line-number" value="187"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="188"></td><td class="line-content">.leftside {</td></tr><tr><td class="line-number" value="189"></td><td class="line-content">    float:left;</td></tr><tr><td class="line-number" value="190"></td><td class="line-content">    width:220px;</td></tr><tr><td class="line-number" value="191"></td><td class="line-content">    height:285px;</td></tr><tr><td class="line-number" value="192"></td><td class="line-content">    background-color:#def;</td></tr><tr><td class="line-number" value="193"></td><td class="line-content">    padding:10px;</td></tr><tr><td class="line-number" value="194"></td><td class="line-content">    border-radius:4px;</td></tr><tr><td class="line-number" value="195"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="196"></td><td class="line-content">.rightside {</td></tr><tr><td class="line-number" value="197"></td><td class="line-content">    float:left;</td></tr><tr><td class="line-number" value="198"></td><td class="line-content">    margin-left:10px;</td></tr><tr><td class="line-number" value="199"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="200"></td><td class="line-content">#sketchpad {</td></tr><tr><td class="line-number" value="201"></td><td class="line-content">    float:left;</td></tr><tr><td class="line-number" value="202"></td><td class="line-content">    height:300px;</td></tr><tr><td class="line-number" value="203"></td><td class="line-content">    width:400px;</td></tr><tr><td class="line-number" value="204"></td><td class="line-content">    border:2px solid #888;</td></tr><tr><td class="line-number" value="205"></td><td class="line-content">    border-radius:4px;</td></tr><tr><td class="line-number" value="206"></td><td class="line-content">    position:relative; /* Necessary for correct mouse co-ords in Firefox */</td></tr><tr><td class="line-number" value="207"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="208"></td><td class="line-content">#clearbutton {</td></tr><tr><td class="line-number" value="209"></td><td class="line-content">    font-size: 15px;</td></tr><tr><td class="line-number" value="210"></td><td class="line-content">    padding: 10px;</td></tr><tr><td class="line-number" value="211"></td><td class="line-content">    -webkit-appearance: none;</td></tr><tr><td class="line-number" value="212"></td><td class="line-content">    background: #eee;</td></tr><tr><td class="line-number" value="213"></td><td class="line-content">    border: 1px solid #888;</td></tr><tr><td class="line-number" value="214"></td><td class="line-content">}</td></tr><tr><td class="line-number" value="215"></td><td class="line-content"><span class="html-tag">&lt;/style&gt;</span></td></tr><tr><td class="line-number" value="216"></td><td class="line-content"><span class="html-tag">&lt;/head&gt;</span></td></tr><tr><td class="line-number" value="217"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="218"></td><td class="line-content"><span class="html-tag">&lt;body <span class="html-attribute-name">onload</span>="<span class="html-attribute-value">init()</span>"&gt;</span></td></tr><tr><td class="line-number" value="219"></td><td class="line-content">    <span class="html-tag">&lt;div <span class="html-attribute-name">id</span>="<span class="html-attribute-value">sketchpadapp</span>"&gt;</span></td></tr><tr><td class="line-number" value="220"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">leftside</span>"&gt;</span></td></tr><tr><td class="line-number" value="221"></td><td class="line-content">             Touchscreen and mouse support HTML5 canvas sketchpad.<span class="html-tag">&lt;br/&gt;</span><span class="html-tag">&lt;br/&gt;</span></td></tr><tr><td class="line-number" value="222"></td><td class="line-content">             Draw something by tapping or dragging.<span class="html-tag">&lt;br/&gt;</span><span class="html-tag">&lt;br/&gt;</span></td></tr><tr><td class="line-number" value="223"></td><td class="line-content">             Works on iOS, Android and desktop/laptop touchscreens using Chrome/Firefox/Safari.<span class="html-tag">&lt;br/&gt;</span><span class="html-tag">&lt;br/&gt;</span></td></tr><tr><td class="line-number" value="224"></td><td class="line-content">             <span class="html-tag">&lt;input <span class="html-attribute-name">type</span>="<span class="html-attribute-value">submit</span>" <span class="html-attribute-name">value</span>="<span class="html-attribute-value">Clear Sketchpad</span>" <span class="html-attribute-name">id</span>="<span class="html-attribute-value">clearbutton</span>" <span class="html-attribute-name">onclick</span>="<span class="html-attribute-value">clearCanvas(canvas,ctx);</span>"&gt;</span></td></tr><tr><td class="line-number" value="225"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="226"></td><td class="line-content">        <span class="html-tag">&lt;div <span class="html-attribute-name">class</span>="<span class="html-attribute-value">rightside</span>"&gt;</span></td></tr><tr><td class="line-number" value="227"></td><td class="line-content">            <span class="html-tag">&lt;canvas <span class="html-attribute-name">id</span>="<span class="html-attribute-value">sketchpad</span>" <span class="html-attribute-name">height</span>="<span class="html-attribute-value">300</span>" <span class="html-attribute-name">width</span>="<span class="html-attribute-value">400</span>"&gt;</span></td></tr><tr><td class="line-number" value="228"></td><td class="line-content">            <span class="html-tag">&lt;/canvas&gt;</span></td></tr><tr><td class="line-number" value="229"></td><td class="line-content">        <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="230"></td><td class="line-content">    <span class="html-tag">&lt;/div&gt;</span></td></tr><tr><td class="line-number" value="231"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="232"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span></td></tr><tr><td class="line-number" value="233"></td><td class="line-content"><br></td></tr><tr><td class="line-number" value="234"></td><td class="line-content"><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>